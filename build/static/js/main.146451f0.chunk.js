(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,a){e.exports=a(71)},41:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"loadData",function(){return M}),a.d(r,"setPageSize",function(){return L}),a.d(r,"setSortProperty",function(){return U}),a.d(r,"placeOrder",function(){return K});var n={};a.r(n),a.d(n,"addToCart",function(){return ae}),a.d(n,"updateCartQuantity",function(){return re}),a.d(n,"removeFromCart",function(){return ne}),a.d(n,"clearCart",function(){return ce});var c,o,s=a(0),l=a.n(s),i=a(32),u=a.n(i),p=(a(41),a(2)),m=a(3),d=a(5),h=a(4),b=a(6),f=a(17),y=a(12),E=a(8),O={PRODUCTS:"products",CATEGORIES:"categories",ORDERS:"orders"},g="data_load",v="data_store",j="data_set_sort",C="data_set_pagesize",k="cart_add",N="cart_update",S="cart_delete",P="cart_clear",w=a(14),x=Object(f.c)(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e,a){for(var r=0;r<t.length;r++){var n=t[r](e,a);if(n!==e)return n}return e}}(function(e,t){var a;switch(t.type){case g:return Object(E.a)({},e,(a={},Object(y.a)(a,t.payload.dataType,t.payload.data),Object(y.a)(a,"".concat(t.payload.dataType,"_total"),t.payload.total),Object(y.a)(a,"".concat(t.payload.dataType,"_params"),t.payload.params),a));case C:return Object(E.a)({},e,{pageSize:t.payload});case j:return Object(E.a)({},e,{sortKey:t.payload});case v:if(t.payload.dataType===O.ORDERS)return Object(E.a)({},e,{order:t.payload.data});break;default:return e||{}}},function(e,t){var a=Object(E.a)({cart:[],cartItems:0,cartPrice:0},e);switch(t.type){case k:var r=t.payload.product,n=t.payload.quantity,c=a.cart.find(function(e){return e.product.id===r.id});return c?c.quantity+=n:a.cart=[].concat(Object(w.a)(a.cart),[t.payload]),a.cartItems+=n,a.cartPrice+=r.price*n,a;case N:return a.cart=a.cart.map(function(e){if(e.product.id===t.payload.product.id){var r=t.payload.quantity-e.quantity;return a.cartItems+=r,a.cartPrice+=e.product.price*r,t.payload}return e}),a;case S:var o=a.cart.find(function(e){return e.product.id===t.payload.id});return a.cartItems-=o.quantity,a.cartPrice-=o.quantity*o.product.price,a.cart=a.cart.filter(function(e){return e!==o}),a;case P:return Object(E.a)({},e,{cart:[],cartItems:0,cartPrice:0});default:return e||{}}}),Object(f.a)(function(){return function(e){return function(t){var a;"object"!==typeof(a=t.payload)&&"function"!==typeof a||"function"!==typeof a.then?e(t):t.payload.then(function(a){return e(Object(E.a)({},t,{payload:a}))})}}})),T=a(16),R=a(75),A=a(77),D=a(72),_=a(74),q=a(34),z=a.n(q),F=(c={},Object(y.a)(c,O.PRODUCTS,"".concat("http","://").concat("localhost",":").concat(3500,"/api/products")),Object(y.a)(c,O.CATEGORIES,"".concat("http","://").concat("localhost",":").concat(3500,"/api/categories")),Object(y.a)(c,O.ORDERS,"".concat("http","://").concat("localhost",":").concat(3500,"/api/orders")),c),I=new function e(t){var a=this;Object(p.a)(this,e),this.GetData=function(e,t){return a.SendRequest("get",F[e],t)},this.StoreData=function(e,t){return a.SendRequest("post",F[e],{},t)},this.SendRequest=function(e,t,a,r){return z.a.request({method:e,url:t,params:a,data:r})},this.error_handler=t||function(){}},M=function(e,t){return{type:g,payload:I.GetData(e,t).then(function(a){return{dataType:e,data:a.data,total:Number(a.headers["x-total-count"]),params:t}})}},L=function(e){return{type:C,payload:e}},U=function(e){return{type:j,payload:e}},K=function(e){return{type:v,payload:I.StoreData(O.ORDERS,e).then(function(e){return{dataType:O.ORDERS,data:e.data}})}},$=a(73),G=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(D.a,{path:this.props.to,exact:this.props.exact,children:function(t){var a=e.props.className||"m-2 btn btn-block",r=e.props.activeClass||"btn-primary",n=e.props.inActiveClass||"btn-secondary",c="".concat(a," ").concat(t.match?r:n);return l.a.createElement($.a,{to:e.props.to,className:c},e.props.children)}})}}]),t}(s.Component),Q=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(G,{to:"".concat(this.props.baseUrl,"/all"),exact:!1},"All"),this.props.categories&&this.props.categories.map(function(t){return l.a.createElement(G,{key:t,to:"".concat(e.props.baseUrl,"/").concat(t.toLowerCase())},t)}))}}]),t}(s.Component),Y=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return null==this.props.products||0===this.props.products.length?l.a.createElement("h5",{className:"p-2"},"No Products"):this.props.products.map(function(t){return l.a.createElement("div",{className:"card m-1 p-1 bg-light",key:t.id},l.a.createElement("h4",null,l.a.createElement("span",{className:"font-weight-bold"},t.name),l.a.createElement("span",{className:"badge badge-pill badge-primary float-right"},"$",t.price.toFixed(2))),l.a.createElement("div",{className:"card-text bg-white p-1"},t.description,l.a.createElement("button",{className:"btn btn-success btn-sm float-right",onClick:function(){return e.props.addToCart(t)}},"Add To Cart")))})}}]),t}(s.Component),B=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).getSummary=function(){return a.props.cartItems>0?l.a.createElement("span",null,a.props.cartItems," item(s), $",a.props.cartPrice.toFixed(2)):l.a.createElement("span",null,"Your cart: (empty) ")},a.getLinkClasses=function(){return"btn btn-sm bg-dark text-white \n            ".concat(0===a.props.cartItems?"disabled":"")},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"float-right"},l.a.createElement("small",null,this.getSummary(),l.a.createElement($.a,{className:this.getLinkClasses(),to:"/shop/cart"},l.a.createElement("i",{className:"fa fa-shopping-cart"}))))}}]),t}(s.Component),W=a(76),J=function(e){return e},V={setPageSize:L,setSortProperty:U},Z=function(e,t,a){return Object(E.a)({},e,a,t,{currentPage:Number(a.match.params.page),pageCount:Math.ceil((e.products_total|e.pageSize||5)/(e.pageSize||5)),navigateToPage:function(e){return a.history.push("/shop/products/".concat(a.match.params.category,"/").concat(e))}})},H=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).getPageNumbers=function(){return a.props.pageCount<4?Object(w.a)(Array(a.props.pageCount+1).keys()).slice(1):a.props.currentPage<=4?[1,2,3,4,5]:a.props.currentPage>a.props.pageCount-4?Object(w.a)(Array(5).keys()).reverse().map(function(e){return a.props.pageCount-e}):[a.props.currentPage-1,a.props.currentPage,a.props.currentPage+1]},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.currentPage,t=this.props.pageCount,a=this.props.navigate;return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:function(){return a(e-1)},disabled:1===e,className:"btn btn-secondary mx-1"},"Previous"),e>4&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"btn btn-secondary mx-1",onClick:function(){return a(1)}},"1"),l.a.createElement("span",{className:"h4"},"...")),this.getPageNumbers().map(function(t){return l.a.createElement("button",{className:"btn mx-1 ".concat(t===e?"btn-primary":"btn-secondary"),onClick:function(){return a(t)},key:t},t)}),e<=t-4&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"h4"},"..."),l.a.createElement("button",{className:"btn btn-secondary mx-1",onClick:function(){return a(t)}},t)),l.a.createElement("button",{onClick:function(){return a(e+1)},disabled:e===t,className:"btn btn-secondary mx-1"},"Next"))}}]),t}(s.Component),X=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handlePageSizeChange=function(e){a.props.setPageSize(e.target.value)},a.handleSortPropertyChange=function(e){a.props.setSortProperty(e.target.value)},a.pageSizes=a.props.sizes||[5,10,25,100],a.sortKeys=a.props.keys||["Name","Price"],a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"m-2"},l.a.createElement("div",{className:"text-center m-1"},l.a.createElement(H,{currentPage:this.props.currentPage,pageCount:this.props.pageCount,navigate:this.props.navigateToPage})),l.a.createElement("div",{className:"form-inline justify-content-center"},l.a.createElement("select",{className:"form-control",onChange:this.handlePageSizeChange,value:this.props.pageSize||this.pageSizes[0]},this.pageSizes.map(function(e){return l.a.createElement("option",{value:e,key:e},e," per page")})),l.a.createElement("select",{className:"form-control",onChange:this.handleSortPropertyChange,value:this.props.sortKey||this.sortKeys[0]},this.sortKeys.map(function(e){return l.a.createElement("option",{value:e.toLowerCase(),key:e},"Sort By ",e)}))))}}]),t}(s.Component),ee=(o=X,Object(W.a)(Object(T.b)(J,V,Z)(o))),te=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).handleAddToCart=function(){var e;(e=a.props).addToCart.apply(e,arguments),a.props.history.push("/shop/cart")},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col bg-dark text-white"},l.a.createElement("div",{className:"navbar-brand"},"SPORTS STORE"),l.a.createElement(B,this.props))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3 p-2"},l.a.createElement(Q,{baseUrl:"/shop/products",categories:this.props.categories})),l.a.createElement("div",{className:"col-9 p-2"},l.a.createElement(ee,null),l.a.createElement(Y,{products:this.props.products,addToCart:this.handleAddToCart}))))}}]),t}(s.Component),ae=function(e,t){return{type:k,payload:{product:e,quantity:t||1}}},re=function(e,t){return{type:N,payload:{product:e,quantity:t}}},ne=function(e){return{type:S,payload:e}},ce=function(){return{type:P}},oe=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).handleChange=function(e,t){a.props.updateQuantity(e,t.target.value)},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return this.props.cart&&0!==this.props.cart.length?l.a.createElement(l.a.Fragment,null,this.props.cart.map(function(t){return l.a.createElement("tr",{key:t.product.id},l.a.createElement("td",null,l.a.createElement("input",{type:"number",value:t.quantity,onChange:function(a){return e.handleChange(t.product,a)}})),l.a.createElement("td",null,t.product.name),l.a.createElement("td",null,"$",t.product.price.toFixed(2)),l.a.createElement("td",null,"$",(t.quantity*t.product.price).toFixed(2)),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:function(){return e.props.removeFromCart(t.product)}},"Remove")))}),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"3",className:"text-right"},"Total:"),l.a.createElement("th",{colSpan:"2"},"$",this.props.cartPrice.toFixed(2)))):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"5"},"Your cart is empty"))}}]),t}(s.Component),se=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).getLinkClasses=function(){return"btn btn-secondary m-1 \n        ".concat(0===a.props.cartItems?"disabled":"")},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"m-3"},l.a.createElement("h2",{className:"text-center"},"Your Cart"),l.a.createElement("table",{className:"table table-bordered table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Quantity"),l.a.createElement("th",null,"Product"),l.a.createElement("th",{className:"text-right"},"Price"),l.a.createElement("th",{className:"text-right"},"Subtotal"),l.a.createElement("th",null))),l.a.createElement("tbody",null,l.a.createElement(oe,{cart:this.props.cart,cartPrice:this.props.cartPrice,updateQuantity:this.props.updateCartQuantity,removeFromCart:this.props.removeFromCart}))),l.a.createElement("div",{className:"text-center"},l.a.createElement($.a,{className:"btn btn-primary m-1",to:"/shop"},"Continue Shopping"),l.a.createElement($.a,{className:this.getLinkClasses(),to:"/shop/checkout"},"Checkout")))}}]),t}(s.Component),le=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).componentDidUpdate=function(){return a.getData()},a.componentDidMount=function(){return a.getData()},a.getData=function(){var e=a.props.products_params||{},t={_limit:a.props.pageSize||5,_sort:a.props.sortKey||"name",_page:a.props.match.params.page||1,category_like:"all"===(a.props.match.params.category||"")?"":a.props.match.params.category};Object.keys(t).find(function(a){return e[a]!==t[a]})&&a.props.loadData(O.PRODUCTS,t)},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.props.children)}}]),t}(s.Component),ie=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.props.errors?this.props.errors.map(function(e){return l.a.createElement("h6",{className:"text-danger",key:e},e)}):null}}]),t}(s.Component),ue=function(e){var t=[];return e.validity.valueMissing&&t.push("Value required"),e.validity.typeMismatch&&t.push("Invalid ".concat(e.type)),t},pe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(){a.setState(function(e){var t=Object(E.a)({},e,{validationErrors:{}});return Object.values(a.formElements).forEach(function(e){e.checkValidity()||(t.validationErrors[e.name]=ue(e))}),t},function(){if(0===Object.keys(a.state.validationErrors).length){var e=Object.assign.apply(Object,Object(w.a)(Object.entries(a.formElements).map(function(e){return Object(y.a)({},e[0],e[1].value)})));a.props.submitCallback(e)}})},a.registerRef=function(e){null!==e&&(a.formElements[e.name]=e)},a.renderElement=function(e){var t=e.name||e.label.toLowerCase();return l.a.createElement("div",{className:"form-group",key:e.label},l.a.createElement("label",null,e.label),l.a.createElement(ie,{errors:a.state.validationErrors[t]}),l.a.createElement("input",Object.assign({className:"form-control",name:t,ref:a.registerRef},a.props.defaultAttrs,e.attrs)))},a.state={validationErrors:{}},a.formElements={},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,this.props.formModel.map(function(t){return e.renderElement(t)}),l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-secondary m-1",onClick:this.props.cancelCallback},this.props.cancelText||"Cancel"),l.a.createElement("button",{className:"btn btn-primary m-1",onClick:this.handleSubmit},this.props.submitText||"Submit")))}}]),t}(s.Component),me=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){var t=Object(E.a)({},e,{products:a.props.cart.map(function(e){return{quantity:e.quantity,product_id:e.product.id}})});a.props.placeOrder(t),a.props.clearCart(),a.props.history.push("/shop/thanks")},a.handleCancel=function(){a.props.history.push("/shop/cart")},a.defaultAttrs={type:"text",required:!0},a.formModel=[{label:"Name"},{label:"Email",attrs:{type:"email"}},{label:"Address"},{label:"City"},{label:"Zip/Postal Code",name:"zip"},{label:"Country"}],a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col bg-dark text-white"},l.a.createElement("div",{className:"navbar-brand"},"SPORTS STORE"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col m-2"},l.a.createElement(pe,{formModel:this.formModel,defaultAttrs:this.defaultAttrs,submitCallback:this.handleSubmit,cancelCallback:this.handleCancel,submitText:"Place Order",cancelText:"Return to Cart"}))))}}]),t}(s.Component),de=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"col bg-dark text-white"},l.a.createElement("div",{className:"navbar-brand"},"SPORTS STORE")),l.a.createElement("div",{className:"m-2 text-center"},l.a.createElement("h2",null,"Thanks!"),l.a.createElement("p",null,"Thanks for placing your order."),l.a.createElement("p",null,"Your order is #",this.props.order?this.props.order.id:0),l.a.createElement("p",null,"We'll ship your goods as soon as possible."),l.a.createElement($.a,{to:"/shop",className:"btn btn-primary"},"Return to Store")))}}]),t}(s.Component),he=Object(E.a)({},r,n),be=Object(T.b)(function(e){return e},he)(function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).selectComponent=function(e){var t=function t(r,n){return l.a.createElement(r,Object.assign({},a.props,e),n&&t(n))};switch(e.match.params.section){case"products":return t(le,te);case"cart":return t(se);case"checkout":return t(me);case"thanks":return t(de);default:return l.a.createElement(_.a,{to:"/shop/products/all/1"})}},a.componentDidMount=function(){return a.props.loadData(O.CATEGORIES)},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(A.a,null,l.a.createElement(_.a,{from:"/shop/products/:category",to:"/shop/products/:category/1",exact:!0}),l.a.createElement(D.a,{path:"/shop/:section?/:category?/:page?",render:function(t){return e.selectComponent(t)}}))}}]),t}(s.Component)),fe=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement(T.a,{store:x},l.a.createElement(R.a,null,l.a.createElement(A.a,null,l.a.createElement(D.a,{path:"/shop",component:be}),l.a.createElement(_.a,{to:"/shop"}))))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(67),a(69);u.a.render(l.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,2,1]]]);
//# sourceMappingURL=main.146451f0.chunk.js.map